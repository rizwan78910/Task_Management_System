{% extends 'base_generic.html' %}

{% load static %}  <!-- Load static files -->

{% block content %}
  <div class="login-container">
    <h2>Login</h2>

    <!-- Display error messages -->
    {% if form.errors %}
      <div class="alert alert-danger">
        <p><strong>Login failed!</strong> Please check your username and password.</p>
        <ul>
          {% for field in form %}
            {% for error in field.errors %}
              <li>{{ error }}</li>
            {% endfor %}
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    <form method="post" class="login-form" autocomplete="off">
      {% csrf_token %}
      
      <div class="form-group">
          <label for="id_username">Username</label>
          <input type="text" name="username" id="id_username" autocomplete="new-username" value="" placeholder="Enter your username">
      </div>
  
      <div class="form-group">
          <label for="id_password">Password</label>
          <input type="password" name="password" id="id_password" autocomplete="new-password" placeholder="Enter your password">
      </div>
  
      <button type="submit" class="btn btn-primary">Login</button>
    </form>

    <!-- Centered Request an Account Section -->
    <div class="request-account-container" style="text-align: center; margin-top: 20px;">
      <h2>Request an Account</h2>
      <p>If you don't have an account, you can request one by sending an email to the admin.</p>
      <a href="mailto:s298951@uos.ac.uk?subject=Account%20Request&body=Full%20Name%3A%20%0AEmail%3A%20%0AReason%3A%20" class="btn btn-primary">
        Request an Account
      </a>
    </div>
  </div>
{% endblock %}

{% block page_css %}
  <link rel="stylesheet" type="text/css" href="{% static 'css/login.css' %}">
{% endblock %}
